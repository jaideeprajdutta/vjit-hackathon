{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaide\\\\-Online-Feedback-and-Grievance-Redressal-System-\\\\grievance-system\\\\src\\\\components\\\\pages\\\\EnhancedStatusTracking.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport TrackingForm from '../tracking/TrackingForm';\nimport GrievanceStatus from '../tracking/GrievanceStatus';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EnhancedStatusTracking = () => {\n  _s();\n  const [grievanceData, setGrievanceData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchPerformed, setSearchPerformed] = useState(false);\n  const handleSearch = async referenceId => {\n    setIsLoading(true);\n    setSearchPerformed(true);\n    try {\n      // Simulate API call to fetch grievance data\n      await new Promise(resolve => setTimeout(resolve, 1500));\n\n      // Mock data - in real app, this would come from API\n      const mockData = {\n        referenceId: referenceId,\n        title: 'Library Access Issue',\n        description: 'Unable to access library resources after 8 PM. Security guard denies entry despite valid ID card.',\n        category: 'Infrastructure',\n        status: 'in-progress',\n        priority: 'medium',\n        submittedDate: '2024-01-15T10:30:00Z',\n        assignedOfficer: 'Officer John Smith',\n        timeline: [{\n          type: 'submitted',\n          title: 'Grievance Submitted',\n          description: 'Your grievance has been successfully submitted and assigned a reference ID.',\n          date: '2024-01-15T10:30:00Z',\n          officer: 'System'\n        }, {\n          type: 'assigned',\n          title: 'Assigned to Officer',\n          description: 'Your grievance has been assigned to Officer John Smith for review and investigation.',\n          date: '2024-01-15T14:20:00Z',\n          officer: 'Admin Team'\n        }, {\n          type: 'in-progress',\n          title: 'Investigation Started',\n          description: 'Officer has started investigating the issue. Library management has been contacted.',\n          date: '2024-01-16T09:15:00Z',\n          officer: 'Officer John Smith'\n        }],\n        updates: [{\n          title: 'Investigation Update',\n          message: 'We have contacted the library management and security team. They are reviewing the access policies for evening hours.',\n          date: '2024-01-16T15:30:00Z',\n          officer: 'Officer John Smith'\n        }]\n      };\n      setGrievanceData(mockData);\n    } catch (error) {\n      console.error('Search failed:', error);\n      setGrievanceData(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleBack = () => {\n    setGrievanceData(null);\n    setSearchPerformed(false);\n  };\n  const handleDownloadReport = () => {\n    if (!grievanceData) return;\n    const reportContent = `\nGRIEVANCE STATUS REPORT\n======================\n\nReference ID: ${grievanceData.referenceId}\nTitle: ${grievanceData.title}\nCategory: ${grievanceData.category}\nStatus: ${grievanceData.status}\nPriority: ${grievanceData.priority}\nSubmitted Date: ${new Date(grievanceData.submittedDate).toLocaleString()}\nAssigned Officer: ${grievanceData.assignedOfficer}\n\nDESCRIPTION:\n${grievanceData.description}\n\nTIMELINE:\n${grievanceData.timeline.map(event => `${new Date(event.date).toLocaleString()} - ${event.title}: ${event.description}`).join('\\n')}\n\nRECENT UPDATES:\n${grievanceData.updates.map(update => `${new Date(update.date).toLocaleString()} - ${update.title}: ${update.message}`).join('\\n')}\n\nGenerated on: ${new Date().toLocaleString()}\n    `.trim();\n    const blob = new Blob([reportContent], {\n      type: 'text/plain'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `grievance-report-${grievanceData.referenceId}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-[#F6F6F6] py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4\",\n      children: !searchPerformed || !grievanceData && !isLoading ? /*#__PURE__*/_jsxDEV(TrackingForm, {\n        onSearch: handleSearch,\n        isLoading: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(GrievanceStatus, {\n        grievanceData: grievanceData,\n        onBack: handleBack,\n        onDownloadReport: handleDownloadReport\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(EnhancedStatusTracking, \"ViLeC6oFvF+f4grP3IkU5Ihuldw=\");\n_c = EnhancedStatusTracking;\nexport default EnhancedStatusTracking;\nvar _c;\n$RefreshReg$(_c, \"EnhancedStatusTracking\");","map":{"version":3,"names":["React","useState","TrackingForm","GrievanceStatus","jsxDEV","_jsxDEV","EnhancedStatusTracking","_s","grievanceData","setGrievanceData","isLoading","setIsLoading","searchPerformed","setSearchPerformed","handleSearch","referenceId","Promise","resolve","setTimeout","mockData","title","description","category","status","priority","submittedDate","assignedOfficer","timeline","type","date","officer","updates","message","error","console","handleBack","handleDownloadReport","reportContent","Date","toLocaleString","map","event","join","update","trim","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","className","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","onBack","onDownloadReport","_c","$RefreshReg$"],"sources":["C:/Users/jaide/-Online-Feedback-and-Grievance-Redressal-System-/grievance-system/src/components/pages/EnhancedStatusTracking.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport TrackingForm from '../tracking/TrackingForm';\r\nimport GrievanceStatus from '../tracking/GrievanceStatus';\r\n\r\nconst EnhancedStatusTracking = () => {\r\n  const [grievanceData, setGrievanceData] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [searchPerformed, setSearchPerformed] = useState(false);\r\n\r\n  const handleSearch = async (referenceId) => {\r\n    setIsLoading(true);\r\n    setSearchPerformed(true);\r\n    \r\n    try {\r\n      // Simulate API call to fetch grievance data\r\n      await new Promise(resolve => setTimeout(resolve, 1500));\r\n      \r\n      // Mock data - in real app, this would come from API\r\n      const mockData = {\r\n        referenceId: referenceId,\r\n        title: 'Library Access Issue',\r\n        description: 'Unable to access library resources after 8 PM. Security guard denies entry despite valid ID card.',\r\n        category: 'Infrastructure',\r\n        status: 'in-progress',\r\n        priority: 'medium',\r\n        submittedDate: '2024-01-15T10:30:00Z',\r\n        assignedOfficer: 'Officer John Smith',\r\n        timeline: [\r\n          {\r\n            type: 'submitted',\r\n            title: 'Grievance Submitted',\r\n            description: 'Your grievance has been successfully submitted and assigned a reference ID.',\r\n            date: '2024-01-15T10:30:00Z',\r\n            officer: 'System'\r\n          },\r\n          {\r\n            type: 'assigned',\r\n            title: 'Assigned to Officer',\r\n            description: 'Your grievance has been assigned to Officer John Smith for review and investigation.',\r\n            date: '2024-01-15T14:20:00Z',\r\n            officer: 'Admin Team'\r\n          },\r\n          {\r\n            type: 'in-progress',\r\n            title: 'Investigation Started',\r\n            description: 'Officer has started investigating the issue. Library management has been contacted.',\r\n            date: '2024-01-16T09:15:00Z',\r\n            officer: 'Officer John Smith'\r\n          }\r\n        ],\r\n        updates: [\r\n          {\r\n            title: 'Investigation Update',\r\n            message: 'We have contacted the library management and security team. They are reviewing the access policies for evening hours.',\r\n            date: '2024-01-16T15:30:00Z',\r\n            officer: 'Officer John Smith'\r\n          }\r\n        ]\r\n      };\r\n      \r\n      setGrievanceData(mockData);\r\n    } catch (error) {\r\n      console.error('Search failed:', error);\r\n      setGrievanceData(null);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setGrievanceData(null);\r\n    setSearchPerformed(false);\r\n  };\r\n\r\n  const handleDownloadReport = () => {\r\n    if (!grievanceData) return;\r\n    \r\n    const reportContent = `\r\nGRIEVANCE STATUS REPORT\r\n======================\r\n\r\nReference ID: ${grievanceData.referenceId}\r\nTitle: ${grievanceData.title}\r\nCategory: ${grievanceData.category}\r\nStatus: ${grievanceData.status}\r\nPriority: ${grievanceData.priority}\r\nSubmitted Date: ${new Date(grievanceData.submittedDate).toLocaleString()}\r\nAssigned Officer: ${grievanceData.assignedOfficer}\r\n\r\nDESCRIPTION:\r\n${grievanceData.description}\r\n\r\nTIMELINE:\r\n${grievanceData.timeline.map(event => \r\n  `${new Date(event.date).toLocaleString()} - ${event.title}: ${event.description}`\r\n).join('\\n')}\r\n\r\nRECENT UPDATES:\r\n${grievanceData.updates.map(update => \r\n  `${new Date(update.date).toLocaleString()} - ${update.title}: ${update.message}`\r\n).join('\\n')}\r\n\r\nGenerated on: ${new Date().toLocaleString()}\r\n    `.trim();\r\n\r\n    const blob = new Blob([reportContent], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `grievance-report-${grievanceData.referenceId}.txt`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#F6F6F6] py-8\">\r\n      <div className=\"container mx-auto px-4\">\r\n        {!searchPerformed || (!grievanceData && !isLoading) ? (\r\n          <TrackingForm onSearch={handleSearch} isLoading={isLoading} />\r\n        ) : (\r\n          <GrievanceStatus \r\n            grievanceData={grievanceData}\r\n            onBack={handleBack}\r\n            onDownloadReport={handleDownloadReport}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedStatusTracking;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}